# 详细设计说明书

## 前端主要程序
- `frontend/src/App.vue`
  - 职责：入口页面，挂载算法演示组件，提供标题与基础布局样式。
  - 结构：引入 `BubbleSortDemo`，包含头部与主体容器。

- `frontend/src/components/BubbleSortDemo.vue`
  - 职责：气泡排序（Bubble Sort）动画演示，包含数组柱状图可视化与播放控制。
  - 关键状态：
    - `arr` 当前数组；`initial` 初始数组；`steps` 步骤序列；`stepIndex` 当前步；`speedMs` 速度。
    - 高亮：`highlight`（比较黄）与 `swapPair`（交换红）。
  - 主要方法：
    - `randomize()`：生成随机数组并重置状态。
    - `buildSteps()`：依据 Bubble Sort 生成 `compare/swap` 步骤。
    - `applyStep(step)`：应用单步（高亮或交换值）。
    - `play()/pause()`：自动播放与暂停（按速度间隔）。
    - `stepForward()/stepBackward()`：单步前进与回退；回退通过“重置到初始并重放到目标步”。
  - 可调参数：
    - 数组长度常量 `N`；默认速度 `speedMs`；柱样式与高亮色。

## 后端主要程序
- `backend/src/main/java/com/av/BackendApplication.java`
  - 职责：Spring Boot 应用入口，启动嵌入式服务器。

- `backend/src/main/java/com/av/controller/HealthController.java`
  - 职责：健康检查接口；`GET /api/health` 返回基础状态 `{status: 'UP'}`。

- `backend/src/main/resources/application.properties`
  - 职责：应用配置；`server.port=8080`；MySQL 连接占位（未启用）。

## 计划中的扩展设计
- 算法引擎基类：`abstract class Algorithm<TInput, TState>` 提供统一接口；
- 渲染器接口：`Visualizer<TState, TStep>` 实现 `render/apply`；
- 播放器控制器：`PlayerController` 支持播放、暂停、单步、回退、速度控制；
- 图算法演示：BFS/DFS（队列/访问集合高亮）、Dijkstra（距离表/松弛操作）。

## 代码规范
- 前端：TypeScript 严格模式、ESLint+Prettier。
- 后端：Maven 管理、建议引入 Checkstyle/Spotless；分层清晰、日志与异常处理规范。