# 变更日志

本项目采用语义化版本，当前版本：`v0.3.0`

## v0.3.0 — 2025-11-18

概述：合并“树/二叉树”到同一页面并提供遍历动画；持续完善链表与布局细节，统一与排序页的框尺寸与分隔。

前端（Vue 3 + Vite + TS）
- 导航更新：首页仅保留“树”入口，树页内部提供“树/二叉树”模式切换。
- 遍历支持：
  - 树：层序遍历（BFS）、DFS(前序)。
  - 二叉树：层序遍历、前序/中序/后序遍历。
- 播放控制：随机初始化、生成步骤、播放/暂停、单步/回退、速度(ms)，与排序/链表一致。
- 可视化布局：左侧高度固定 `240px`，右侧代码面板 `320px`；横向模式启用横向滚动，堆栈纵向模式启用纵向滚动；容器与面板设 `min-width: 0` 与 `box-sizing: border-box`，避免重叠与挤压。
- 链表改进：三行控件排版；查找动画逐节点遍历；修复插入/删除在“单步/回退”下重复执行的问题（引入初始快照与值载荷）。

后端（Spring Boot 3 + Maven）
- 版本号：`backend/pom.xml` 升级为 `0.3.0`（无接口变更）。

文档
- 更新本变更日志当前版本为 `v0.3.0`；README 同步树/二叉树页面合并与遍历说明。

回滚指引
- 若升级后出现问题，可从 `releases/v0.3.0.zip` 或之前版本归档解压覆盖回滚。

## v0.2.21 — 2025-11-18

概述：堆栈纵向溢出优化，链表与排序页框尺寸对齐，保持良好分隔与滚动体验。

前端（Vue 3 + Vite + TS）
- 框尺寸对齐：左侧可视化框固定高度 `240px`，右侧代码面板宽 `320px`，列间距 `16px`。
- 溢出策略：
  - 横向模式（链表/队列/双向链表）使用横向滚动（`.viz-horizontal { overflow-x: auto }`）。
  - 纵向模式（堆栈）使用纵向滚动（`.viz-vertical { overflow-y: auto }`）。
- 不重叠与不挤压：为容器与面板设置 `min-width: 0` 与 `box-sizing: border-box`，消除重叠与挤压问题。

后端（Spring Boot 3 + Maven）
- 版本号：`backend/pom.xml` 升级为 `0.2.21`（无接口变更）。

文档
- 更新本变更日志当前版本为 `v0.2.21`；README 同步堆栈纵向滚动与布局说明。

回滚指引
- 若升级后出现问题，可从 `releases/v0.2.21.zip` 或之前版本归档解压覆盖回滚。

## v0.2.2 — 2025-11-18

概述：修复链表可视化与伪代码面板在长链表场景下的布局问题，确保与排序页一致的框尺寸与分隔。

前端（Vue 3 + Vite + TS）
- 框尺寸一致：链表左侧可视化框固定高度 `240px`，与排序页一致；右侧代码面板固定为 `320px`。
- 溢出处理：左侧仅开启横向滚动（`overflow-x: auto`），不改变框大小；防止节点换行与收缩（`flex-wrap: nowrap`、`flex-shrink: 0`）。
- 分隔与不重叠：网格列 `1fr 320px` 与 `gap: 16px`，为容器与面板加入 `min-width: 0` 与 `box-sizing: border-box`，消除重叠与挤压。

后端（Spring Boot 3 + Maven）
- 版本号：`backend/pom.xml` 升级为 `0.2.2`（无接口变更）。

文档
- 更新本变更日志当前版本为 `v0.2.2`；README 同步链表布局修复说明。

回滚指引
- 若升级后出现问题，可从 `releases/v0.2.2.zip` 或之前版本归档解压覆盖回滚。

## v0.2.1 — 2025-11-18

概述：新增链表演示与导航按钮，完善查找动画与三行控件排版，修复“单步/回退”导致重复操作的问题。

前端（Vue 3 + Vite + TS）
- 顶部导航：在首页标题下新增“排序/链表/树/二叉树”按钮，切换视图不刷新当前页。
- 链表演示页面：新增“链表/堆栈/队列/双向链表”四种模式的可视化。
- 查找动画：逐节点遍历，高亮当前访问节点，并与伪代码联动高亮。
- 三行控件排版：
  - 第一行：随机初始化、生成步骤、播放、暂停、单步、回退、速度(ms)
  - 第二行：模式选择（链表/堆栈/队列/双向链表）
  - 第三行：值输入与操作选择（查找/头插/尾插/删除头/删除尾），值输入移至第三行末尾。
- 播放控制与速度：与排序页一致，支持播放/暂停/单步/回退及速度滑块。
- Bug 修复：为插入/删除操作引入步骤快照与值载荷，回退时先恢复初始数组再重放，避免“单步/回退”导致重复执行而非真正回退。
- 细节调整：移除第一行的“长度/步骤信息”展示，简化控件区。

后端（Spring Boot 3 + Maven）
- 版本号：`backend/pom.xml` 升级为 `0.2.1`（无接口变更）。

文档
- 更新本变更日志当前版本为 `v0.2.1`；README 同步新增链表页面与排版说明。

回滚指引
- 若升级后出现问题，可从 `releases/v0.2.1.zip` 或之前版本归档解压覆盖回滚。

## v0.2.0 — 2025-11-12

概述：优化页面布局与交互，修复诊断错误，消除切换算法错位，统一默认铺满布局。

前端（Vue 3 + Vite + TS）
- 并排布局：将伪代码面板移动到柱状图右侧，新增 `content` 容器并使用网格布局，减少页面纵向高度，避免上下滑动。
- 算法选择按钮：将算法选择从下拉改为三枚按钮（冒泡/选择/插入），点击后自动暂停播放、重建步骤并清空高亮状态，避免错位。
- 步骤一致性：在 `buildSteps` 前重置数组到初始值，确保新算法的步骤与数组状态一致。
- 诊断修复：`chooseAlgo` 移入 `<script setup>`，消除模板类型诊断（不再出现“上不存在属性 chooseAlgo”）。
- 布局固定：移除布局选择控件，柱状图固定使用 `fill`（铺满）布局。

后端（Spring Boot 3 + Maven）
- 版本号：`backend/pom.xml` 升级为 `0.2.0`（无后端接口变更）。

脚本与日志
- 日志目录：沿用 `logs/`，前端与后端日志分别为 `logs/frontend.log`、`logs/backend.log`（v0.1.0 已统一）。
- 一键脚本：`start.command` 保持现有行为与日志输出。

文档
- 更新本变更日志当前版本为 `v0.2.0`；README 同步布局与交互变化，保留日志路径说明。

回滚指引
- 若升级后出现问题，可从 `releases/v0.2.0.zip` 或之前版本归档解压覆盖回滚。

## v0.1.0 — 2025-11-12

概述：完善可视化演示与教学辅助，增加伪代码高亮与交换计数，并规范日志目录。

前端（Vue 3 + Vite + TS）
- 伪代码面板：根据当前算法动态展示伪代码；在 `compare`/`swap` 步骤时高亮对应行。
- 交换计数器：在控制栏统计并显示交换次数（每次 `swap` 累加）。
- 类型安全与诊断修复：移除 `.at()`，统一使用安全索引与非空断言，修复“对象可能为未定义”和 `number | undefined` 提示；`applyStep` 保持边界检查。
- 算法选择延续：支持冒泡 / 选择 / 插入排序（来自 v0.0.2），与伪代码高亮联动。
- 版本号：`frontend/package.json` 升级为 `0.1.0`。

后端（Spring Boot 3 + Maven）
- 版本号：`backend/pom.xml` 升级为 `0.1.0`（无新增接口变更）。

脚本与日志
- 日志目录：统一将日志输出到 `logs/` 目录（`logs/frontend.log`、`logs/backend.log`）。
- 一键脚本：更新 `start.command` 以使用新日志路径，并保持自动打开浏览器与就绪检测。

文档
- 更新本变更日志当前版本为 `v0.1.0`；README 增加日志路径说明。

环境版本
- 与 v0.0.2 一致（Node/Vite/TS/Vue/JDK/Maven/Spring Boot）。

回滚指引
- 若升级后出现问题，可从 `releases/v0.1.0.zip` 或之前版本归档解压覆盖回滚。
- 后端端口：`8080`；前端端口：`5173`（开发环境可能漂移至 `5174/5175`）。

## v0.0.2 — 2025-11-12

概述：新增“选择排序”和“插入排序”的可视化支持，并提供算法选择下拉框。

前端（Vue 3 + Vite + TS）
- 新增算法选择：在控制栏加入“算法”下拉框，支持冒泡/选择/插入排序切换。
- 选择排序步骤：按轮次比较当前最小值并在每轮末进行一次交换，沿用 `compare`/`swap` 步骤语义。
- 插入排序步骤：通过相邻交换将待插入元素左移，沿用 `compare`/`swap` 步骤语义，保证演示一致性。
- 类型与越界防护：沿用统一的步骤应用（`applyStep`）与索引判空，避免未定义访问。
- 版本号：`frontend/package.json` 升级为 `0.0.2`。

后端（Spring Boot 3 + Maven）
- 版本号：`backend/pom.xml` 升级为 `0.0.2`（无功能变更）。

脚本与文档
- 变更日志：新增 v0.0.2 记录。

环境版本
- 与 v0.0.1 一致（Node/Vite/TS/Vue/JDK/Maven/Spring Boot）。

回滚指引
- 若升级后出现问题，可从 `releases/v0.0.2.zip` 或 `releases/v0.0.1.zip` 解压覆盖回滚。
- 后端端口：`8080`；前端端口：`5173`。

## v0.0.1 — 2025-11-12

概述：首个可运行原型，提供前端算法演示与后端健康接口，并加入一键启动脚本。

前端（Vue 3 + Vite + TS）
- 集成 Bubble Sort 演示组件（随机数组、生成步骤、播放/暂停、单步、回退）。
- 修复“步骤进度”数字抖动：启用等宽数字与固定宽度（`font-variant-numeric: tabular-nums`、`min-width`）。
- 新增布局切换：柱状图支持“居中 / 铺满”。
- 类型与越界防护：对步骤访问与数组索引加入判空/边界检查。
- 版本号：`frontend/package.json` 设为 `0.0.1`。

后端（Spring Boot 3 + Maven）
- 项目骨架，应用入口 `BackendApplication.java`。
- 健康接口 `/api/health` 返回服务状态信息。
- 基本配置 `application.properties`（含 MySQL 占位）。
- 版本号：`backend/pom.xml` 设为 `0.0.1`。

脚本与文档
- 一键启动：`start.command` 同时启动前后端，等待端口就绪后自动打开浏览器（前端与健康接口）。
- 一键停止：`stop.command` 读取 PID 文件并安全结束前后端。
- 文档结构完善：README、需求/设计/接口/数据库等说明文档。

环境版本
- Node.js/npm（本地）
- Vite `7.1.x`
- TypeScript `5.9.x`
- Vue `3.5.x`
- JDK `21.0.6`（OpenJDK）
- Maven `3.9.11`
- Spring Boot `3.3.4`

回滚指引
- 若升级后出现问题，可从 `releases/v0.0.1.zip` 解压覆盖，或按文档变更点逐项还原。
- 后端端口：`8080`；前端端口：`5173`。